/* ======== liquid glass enhancements ======== */
:root{
  --glass-bg: rgba(255,255,255,0.06);
  --glass-border: rgba(255,255,255,0.18);
}

/* Layer di vetro principale: più liquido e reattivo */
.glass-panel {
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(16px) saturate(160%) opacity(0.96);
  -webkit-backdrop-filter: blur(16px) saturate(160%) opacity(0.96);
  box-shadow:
    0 12px 40px rgba(0,0,0,0.35),
    inset 0 1px 0 rgba(255,255,255,0.12);
  position: relative;
  overflow: hidden;
  animation: liquidMorph 8s cubic-bezier(.2,.8,.2,1) infinite alternate;
}

/* Riflesso liquido che scorre lentamente */
.glass-panel::after{
  content:"";
  position:absolute; inset:-20% -40%;
  background: conic-gradient(from 210deg at 50% 50%,
    rgba(255,255,255,0.00) 0%,
    rgba(255,255,255,0.06) 35%,
    rgba(255,255,255,0.12) 50%,
    rgba(255,255,255,0.00) 70%);
  filter: blur(18px);
  transform: translate3d(0,0,0) rotate(0deg);
  animation: flowingHighlight 6.5s ease-in-out infinite alternate;
  pointer-events:none;
}

/* Layer “caustiche” molto tenue */
.glass-panel::before{
  content:"";
  position:absolute; inset:-10%;
  background:
    radial-gradient(120% 80% at 10% 0%, rgba(255,255,255,0.08) 0%, transparent 60%),
    radial-gradient(120% 80% at 90% 100%, rgba(255,255,255,0.06) 0%, transparent 60%);
  mix-blend-mode: screen;
  opacity: .35;
  filter: blur(22px) saturate(140%);
  animation: causticsDrift 9s ease-in-out infinite alternate;
  pointer-events:none;
}

/* Stato attivo con “respiro” di densità ottica */
.glass-panel.is-active{
  transition: backdrop-filter 4s ease, box-shadow 4s ease;
  backdrop-filter: blur(18px) saturate(180%) opacity(1);
  -webkit-backdrop-filter: blur(18px) saturate(180%) opacity(1);
  box-shadow:
    0 18px 60px rgba(0,0,0,0.4),
    inset 0 1px 0 rgba(255,255,255,0.18);
}

/* Pulsazione lentissima del materiale */
@keyframes liquidMorph{
  0%   { transform: translateZ(0) scale(1) skewX(0deg); border-radius: 20px; }
  50%  { transform: translateZ(0) scale(1.01,1.005) skewX(0.3deg); border-radius: 22px; }
  100% { transform: translateZ(0) scale(1.015,1.01) skewX(0.5deg); border-radius: 24px; }
}

@keyframes flowingHighlight{
  0%   { transform: rotate(0deg) translateX(-6%) scale(1); opacity:.55; }
  100% { transform: rotate(8deg) translateX(6%)  scale(1.02); opacity:.75; }
}

@keyframes causticsDrift{
  0%   { filter: blur(20px) saturate(130%); transform: translateY(-2%) rotate(-1deg); }
  100% { filter: blur(24px) saturate(160%); transform: translateY(2%)  rotate(1deg); }
}

/* Barre di progresso “viscose” */
.progress-fill{
  background: linear-gradient(90deg,#00f5ff,#39ff14);
  filter: saturate(140%) brightness(110%);
  animation: viscousFlow 5.5s cubic-bezier(.3,.7,.2,1) infinite;
}
@keyframes viscousFlow{
  0%   { box-shadow: 0 0 0 rgba(0,245,255,0.0); }
  50%  { box-shadow: 0 0 24px rgba(0,245,255,0.35); }
  100% { box-shadow: 0 0 0 rgba(0,245,255,0.0); }
}

/* Particelle più lente e con parallasse minima */
.floating-particle{
  animation: float 18s linear infinite;
  opacity:.45;
}
@keyframes float{
  0%   { transform: translateY(100vh) translateX(-5px) scale(.9); }
  100% { transform: translateY(-120px) translateX(5px)  scale(1.02); }
}

/* SVG Gooey: inserire nel DOM una sola volta */
/*
<svg width="0" height="0" style="position:absolute">
  <filter id="goo">
    <feGaussianBlur in="SourceGraphic" stdDeviation="8" result="blur"/>
    <feColorMatrix in="blur" mode="matrix"
      values="1 0 0 0 0
              0 1 0 0 0
              0 0 1 0 0
              0 0 0 20 -10" result="goo"/>
    <feBlend in="SourceGraphic" in2="goo"/>
  </filter>
</svg>
*/

/* Esempio di applicazione del gooey a piccoli badge/bolle */
.bubbles { filter: url(#goo); }
.bubbles .bubble { transition: transform 4s cubic-bezier(.2,.8,.2,1); }
